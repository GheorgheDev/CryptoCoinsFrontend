<div class="dashboard dashboard--close" #dashboard>
  <app-dialog-increase-wallet
    [loggedUser]="loggedUser"
    (onUpdateUserWallet)="updateUserWallet($event)"
  >
  </app-dialog-increase-wallet>
  <app-dialog-buy-coin
    [loggedUser]="loggedUser"
    (onUpdate)="updateUserWallet($event)"
  ></app-dialog-buy-coin>
  <app-dialog-sell-coin
    [loggedUser]="loggedUser"
    (onUpdate)="updateUserWallet($event)"
  ></app-dialog-sell-coin>
  <header class="header">
    <div class="header__top">
      <h1 class="header__logo">𝐂𝐑𝐘𝐏𝐓𝐎𝐊𝐈𝐍𝐆𝐃𝐎𝐌</h1>
      <button (click)="logout()" class="header__button-log-out" title="log out">
        <img src="./assets/icons/logout.svg" alt="log out" />
      </button>
    </div>
    <div class="header__lower">
      <p>Welcome {{ loggedUser?.username }}</p>
      <p class="header__wallet-user">
        <ng-container *ngIf="loggedUser as user">
          Wallet: {{ user.wallet | number : "1.2-2" }}€
        </ng-container>
        <button
          type="button"
          (click)="openModalIncreaseWallet()"
          class="header__button-increase-wallet"
          title="increase your wallet"
        >
          <img src="./assets/icons/add.svg" alt="add" />
        </button>
      </p>
    </div>
  </header>
  <main class="main">
    <app-table-coins
      [loggedUser]="loggedUser"
      [walletUpdated]="walletUpdated"
      [loggedUserId]="loggedUserId"
      (onOpenModalBuyCoin)="openModalBuyCoin($event)"
      (onOpenModalIncreaseWallet)="openModalIncreaseWallet()"
      (onOpenModalSellCoin)="openModalSellCoin($event)"
    ></app-table-coins>
  </main>
</div>
<app-spinner></app-spinner>
